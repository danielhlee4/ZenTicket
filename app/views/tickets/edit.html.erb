<div class="container ticket-edit-max-width">
  <h1 class="my-4">Edit Ticket</h1>

  <%= render_flash %>

  <%= form_with model: @ticket, local: true do |form| %>
    <div class="mb-3">
      <%= form.label :title %>
      <%= form.text_field :title, class: 'form-control' %>
    </div>

    <div class="mb-3">
      <%= form.label :priority_level %>
      <%= form.select :priority_level, options_for_select(["Low", "Medium", "High"], @ticket.priority_level), {}, class: 'form-select' %>
    </div>

    <div class="mb-3">
      <%= form.label :description %>
      <%= form.text_area :description, rows: 5, class: 'form-control' %>
    </div>

    <% if current_user.admin? %>
      <div class="mb-3">
        <%= form.label :status %>
        <%= form.select :status, options_for_select(["Open", "In Progress", "Closed"], @ticket.status), {}, class: 'form-select' %>
      </div>

      <div class="mb-3">
        <%= form.label :resolution_details %>
        <%= form.text_area :resolution_details, rows: 3, class: 'form-control' %>
      </div>
    <% end %>

    <%= form.submit 'Update Ticket', class: 'btn btn-primary' %>
    <%= link_to 'Return to Dashboard', tickets_path, class: 'btn btn-secondary' %>
  <% end %>
</div>
